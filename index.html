<!DOCTYPE html>
<html>
  <head>
    <title>Location and Flag By IP</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>Location and Flag By IP</h1>
    <div id="main-container">
         <div id="ip"></div>
     <div id="c"></div>
     <div id="cn"></div>

<img class="id-of-img-tag" src="" alt="img">
     <div><a href="" id="get_loc">Click Here To See The Map</a></div>

  <iframe src="" width="425" height="350" id="google_map"></iframe>
      </div>
    </div>
    <script src="main.js"></script>
  </body>
</html>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    

  <script type="text/javascript">
    $.get('https://ipinfo.io',function(response)
    {
      $("#ip").html('IP: <b>'+response.ip+'</b>');
      $("#c").html('CITY: <b>'+response.city+'</b>');
      $("#cn").html('COUNTRY: <b>'+response.country+'</b>');
    },'jsonp')
  </script>
  
  <script type="text/javascript">
    var c = function(pos){
      var lat  = pos.coords.latitude;
      var long  = pos.coords.longitude;
           coords=lat + ','+long;
       document.getElementById('google_map').setAttribute('src','https://maps.google.co.uk/?q='+ coords + '&z=60&output=embed');
    }
           document.getElementById('get_loc').onclick = function(){
             navigator.geolocation.getCurrentPosition(c);
             return false;
           }
  </script>
<script type="text/javascript">
  var userip;
  
</script>
<script type="text/javascript" src="https://l2.io/ip.js?var=userip"></script>

<script type="text/javascript">
            var string_url = "https://api.ipfind.com/flag?" + "ip=" + userip + "&auth=d340deb5-1ae5-41e5-a182-30b9adf24d50";
            
            document.querySelector(".id-of-img-tag").src = string_url;


</script>